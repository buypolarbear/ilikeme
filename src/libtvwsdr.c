/*
 * tvw-sdr, userspace driver for TVW750 devices
 * Copyright (C) 2012  Joshua Roys <roysjosh@gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */

#include <endian.h>
#include <err.h>
#include <fcntl.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/stat.h>
#include <sys/types.h>
#include <time.h>
#include <unistd.h>

#include <libusb.h>

#define BULK_TIMEOUT 0

static struct libusb_device_handle *devh = NULL;

enum tvwsdr_reg_op {
	REG_READ,
	REG_WRITE,

	REG_AND,
	REG_OR,

	REG_SLEEP,

	MAX_REG_OP,
};

struct tvwsdr_reg_cmd {
	enum tvwsdr_reg_op op;
	uint16_t reg;
	uint16_t page;
	uint32_t val;
};

struct tvwsdr_reg_cmd tvw_init1[] = {
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_WRITE, 0x08a8, 0x2000, 0xa0f00000 },
	{ REG_WRITE, 0x08ac, 0x2000, 0xa8f00000 },
	{ REG_WRITE, 0x08b0, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x08b4, 0x2000, 0x24000087 },
	{ REG_WRITE, 0x08b8, 0x2000, 0x00c61800 },
	{ REG_WRITE, 0x08bc, 0x2000, 0x0000c000 },
	{ REG_WRITE, 0x08c0, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x093c, 0x2000, 0x24000087 },
	{ REG_WRITE, 0x0940, 0x2000, 0x00644a00 },
	{ REG_WRITE, 0x0944, 0x2000, 0x00009533 },
	{ REG_WRITE, 0x0948, 0x2000, 0x37d40a00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x3ffb8f00 },
	{ REG_WRITE, 0x0808, 0x2000, 0x55010722 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00020000 },
	{ REG_READ,  0x080c, 0x2000, 0x00020000 },
	{ REG_WRITE, 0x200c, 0x2000, 0x00006000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x80010000 },
	{ REG_READ,  0x080c, 0x2000, 0x80010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x90010000 },
	{ REG_READ,  0x08b0, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x08b0, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x08b0, 0x2000, 0x08a00100 },
	{ REG_READ,  0x08b0, 0x2000, 0x08a00100 },
	{ REG_READ,  0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x0000, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x0808, 0x2000, 0x55010700 },
	{ REG_WRITE, 0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x080c, 0x2000, 0x90010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x80010000 },
	{ REG_READ,  0x602c, 0x2000, 0x00800080 },
	{ REG_WRITE, 0x602c, 0x2000, 0x04800480 },
	{ REG_WRITE, 0x0820, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x088c, 0x2000, 0xffcf0100 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0850, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0884, 0x2000, 0x0000ff23 },
	{ REG_WRITE, 0x0840, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x096c, 0x2000, 0xff4e0100 },
	{ REG_READ,  0x00a8, 0x2000, 0x00000000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x1844, 0x2000, 0x0000bc00 },
	{ REG_WRITE, 0x1844, 0x2000, 0x0400bc00 },
	{ REG_WRITE, 0x1854, 0x2000, 0x00340100 },
	{ REG_WRITE, 0x1850, 0x2000, 0x001c0000 },
	{ REG_WRITE, 0x1810, 0x2000, 0x00340100 },
	{ REG_WRITE, 0x180c, 0x2000, 0x001c0000 },
	{ REG_WRITE, 0x1a54, 0x2000, 0x00500100 },
	{ REG_WRITE, 0x1a50, 0x2000, 0x001c0000 },
	{ REG_WRITE, 0x1a10, 0x2000, 0x00500100 },
	{ REG_WRITE, 0x1a0c, 0x2000, 0x001c0000 },
	{ REG_READ,  0x1548, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x1548, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x154c, 0x2000, 0x00240100 },
	{ REG_READ,  0x1584, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x1584, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x158c, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x1590, 0x2000, 0x00240100 },
	{ REG_READ,  0x1104, 0x2000, 0x10100000 },
	{ REG_WRITE, 0x1104, 0x2000, 0x10180000 },
	{ REG_WRITE, 0x1184, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x1044, 0x2000, 0x12000000 },
	{ REG_WRITE, 0x112c, 0x2000, 0x000c0100 },
	{ REG_WRITE, 0x114c, 0x2000, 0x00003000 },
	{ REG_READ,  0x1104, 0x2000, 0x10180000 },
	{ REG_WRITE, 0x1104, 0x2000, 0x00180000 },
	{ REG_WRITE, 0x1128, 0x2000, 0x03000000 },
	{ REG_WRITE, 0x1130, 0x2000, 0x00180100 },
	{ REG_WRITE, 0x1150, 0x2000, 0x00003000 },
	{ REG_WRITE, 0x1158, 0x2000, 0x00000000 },
	{ REG_READ,  0x1288, 0x2000, 0x40200000 },
	{ REG_WRITE, 0x1288, 0x2000, 0x40300000 },
	{ REG_WRITE, 0x12a4, 0x2000, 0x000c0100 },
	{ REG_WRITE, 0x12c4, 0x2000, 0x00003000 },
	{ REG_READ,  0x1288, 0x2000, 0x40300000 },
	{ REG_WRITE, 0x1288, 0x2000, 0x00300000 },
	{ REG_WRITE, 0x12a0, 0x2000, 0x03000000 },
	{ REG_WRITE, 0x12a8, 0x2000, 0x00180100 },
	{ REG_WRITE, 0x12c8, 0x2000, 0x00003000 },
	{ REG_WRITE, 0x12d0, 0x2000, 0x00000000 },
	{ REG_READ,  0x009c, 0x2000, 0x00000000 },
	{ REG_READ,  0x0820, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0820, 0x2000, 0x0100ff07 },
	{ REG_WRITE, 0x1214, 0x2000, 0xff03ff03 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x200c, 0x2000, 0x00006000 },
	{ REG_WRITE, 0x200c, 0x2000, 0x00117000 },
	{ REG_WRITE, 0x2014, 0x2000, 0x00001000 },
	{ REG_WRITE, 0x2000, 0x2000, 0x02000200 },
	{ REG_WRITE, 0x2004, 0x2000, 0x0e000e00 },
	{ REG_WRITE, 0x201c, 0x2000, 0x0f000f00 },
	{ REG_WRITE, 0x2020, 0x2000, 0xff00ff00 },
	{ REG_READ,  0x1044, 0x2000, 0x12000000 },
	{ REG_WRITE, 0x1044, 0x2000, 0x12000000 },
	{ REG_READ,  0x1044, 0x2000, 0x12000000 },
	{ REG_WRITE, 0x1044, 0x2000, 0x12000000 },
	{ REG_WRITE, 0x0198, 0x2000, 0x42410101 },
	{ REG_READ,  0x019c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x019c, 0x2000, 0x00000000 },
	{ REG_READ,  0x0194, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x0194, 0x2000, 0x00000000 },
	{ REG_READ,  0x0898, 0x2000, 0x00040000 },
	{ REG_WRITE, 0x0898, 0x2000, 0x00040000 },
	{ REG_READ,  0x08a0, 0x2000, 0x00040000 },
	{ REG_WRITE, 0x08a0, 0x2000, 0x00040000 },
	{ REG_READ,  0x080c, 0x2000, 0x80010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x80010000 },
	{ REG_READ,  0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x1ba00100 },
	{ REG_READ,  0x0940, 0x2000, 0x00644a00 },
	{ REG_WRITE, 0x0940, 0x2000, 0x00d64a00 },
	{ REG_READ,  0x0944, 0x2000, 0x00009533 },
	{ REG_WRITE, 0x0944, 0x2000, 0x00009533 },
	{ REG_READ,  0x0948, 0x2000, 0x37d40a00 },
	{ REG_WRITE, 0x0948, 0x2000, 0x37dc0200 },
	{ REG_READ,  0x0938, 0x2000, 0x1ba00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x0ba00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a00100 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0000ff07 },
	{ REG_READ,  0x1504, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x1504, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x80010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00010000 },
	{ REG_READ,  0x1a04, 0x2000, 0x0000bc00 },
	{ REG_WRITE, 0x1a04, 0x2000, 0x0000bc00 },
	{ REG_READ,  0x0850, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0850, 0x2000, 0x0100ff07 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0c04, 0x2000, 0x01470000 },
	{ REG_READ,  0x0c08, 0x2000, 0x01470000 },
	{ REG_READ,  0x0c00, 0x2000, 0x06000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x80010000 },
	{ REG_READ,  0x080c, 0x2000, 0x80010000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x5000, 0x2000, 0xc7040000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x0804, 0x2000, 0x37faff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x35fa7f00 },
	{ REG_READ,  0x0898, 0x2000, 0x00040000 },
	{ REG_WRITE, 0x0898, 0x2000, 0x04040000 },
	{ REG_READ,  0x08a0, 0x2000, 0x00040000 },
	{ REG_WRITE, 0x08a0, 0x2000, 0x04040000 },
	{ REG_READ,  0x08a8, 0x2000, 0xa0f00000 },
	{ REG_WRITE, 0x08a8, 0x2000, 0xa0f10000 },
	{ REG_READ,  0x0804, 0x2000, 0x35fa7f00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x080c, 0x2000, 0x00000000 },
	{ REG_READ,  0x602c, 0x2000, 0x04800480 },
	{ REG_WRITE, 0x602c, 0x2000, 0x04800480 },
	{ REG_WRITE, 0x6860, 0x2000, 0x80400000 },
	{ REG_WRITE, 0x6868, 0x2000, 0x0c000000 },
	{ REG_WRITE, 0x61b0, 0x2000, 0x80050000 },
	{ REG_WRITE, 0x6864, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6868, 0x2000, 0x0c020000 },
	{ REG_WRITE, 0x686c, 0x2000, 0x10040000 },
	{ REG_WRITE, 0x639c, 0x2000, 0x02000000 },
	{ REG_WRITE, 0x6870, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6874, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6878, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x638c, 0x2000, 0x1a1c0000 },
	{ REG_WRITE, 0x6390, 0x2000, 0x16050000 },
	{ REG_WRITE, 0x687c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6880, 0x2000, 0x00000010 },
	{ REG_WRITE, 0x6884, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6888, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x688c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6144, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63a0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63a4, 0x2000, 0x02000000 },
	{ REG_WRITE, 0x6890, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x616c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6894, 0x2000, 0x000000fb },
	{ REG_WRITE, 0x689c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6168, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63b8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x68a0, 0x2000, 0x003000e8 },
	{ REG_WRITE, 0x63bc, 0x2000, 0x00580000 },
	{ REG_WRITE, 0x6394, 0x2000, 0x02830000 },
	{ REG_WRITE, 0x6398, 0x2000, 0x70800000 },
	{ REG_WRITE, 0x6324, 0x2000, 0x40000000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_WRITE, 0x62d8, 0x2000, 0x00800081 },
	{ REG_WRITE, 0x62dc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x62e0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63c0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63f8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63fc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63f4, 0x2000, 0x447fc200 },
	{ REG_WRITE, 0x6404, 0x2000, 0x00003e00 },
	{ REG_WRITE, 0x6408, 0x2000, 0x07000000 },
	{ REG_WRITE, 0x6400, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63e0, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x63cc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63c8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63c4, 0x2000, 0x32800000 },
	{ REG_WRITE, 0x63a8, 0x2000, 0xf807f587 },
	{ REG_WRITE, 0x63ac, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63b0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63b4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61c0, 0x2000, 0x0010e00f },
	{ REG_WRITE, 0x61c4, 0x2000, 0xf00ff00f },
	{ REG_WRITE, 0x61c8, 0x2000, 0x0000e00f },
	{ REG_WRITE, 0x68c0, 0x2000, 0x0000003c },
	{ REG_WRITE, 0x61cc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61d0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61d4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x68c4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x63f0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6410, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x6414, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x6418, 0x2000, 0x20000000 },
	{ REG_WRITE, 0x6328, 0x2000, 0x80910810 },
	{ REG_WRITE, 0x632c, 0x2000, 0x80000000 },
	{ REG_WRITE, 0x63e4, 0x2000, 0x00bf000e },
	{ REG_WRITE, 0x6268, 0x2000, 0x50865000 },
	{ REG_WRITE, 0x63e8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61d8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6320, 0x2000, 0xac209300 },
	{ REG_WRITE, 0x631c, 0x2000, 0x80020000 },
	{ REG_WRITE, 0x6314, 0x2000, 0xa3010000 },
	{ REG_WRITE, 0x6318, 0x2000, 0x80008002 },
	{ REG_WRITE, 0x630c, 0x2000, 0x10001000 },
	{ REG_WRITE, 0x6308, 0x2000, 0x3ffc3ffc },
	{ REG_WRITE, 0x62f0, 0x2000, 0x74060087 },
	{ REG_WRITE, 0x62ec, 0x2000, 0x07000000 },
	{ REG_WRITE, 0x62f4, 0x2000, 0x06040101 },
	{ REG_WRITE, 0x62e8, 0x2000, 0x2e78c480 },
	{ REG_WRITE, 0x62e4, 0x2000, 0xac200000 },
	{ REG_WRITE, 0x6310, 0x2000, 0x10001000 },
	{ REG_WRITE, 0x6304, 0x2000, 0xa816d086 },
	{ REG_WRITE, 0x62fc, 0x2000, 0x20000000 },
	{ REG_WRITE, 0x62f8, 0x2000, 0x06040204 },
	{ REG_WRITE, 0x6300, 0x2000, 0x2878c480 },
	{ REG_WRITE, 0x62bc, 0x2000, 0x1e285be8 },
	{ REG_WRITE, 0x62ac, 0x2000, 0x010c85c1 },
	{ REG_WRITE, 0x62b0, 0x2000, 0xd309d702 },
	{ REG_WRITE, 0x62b4, 0x2000, 0x33770000 },
	{ REG_WRITE, 0x62d4, 0x2000, 0x06000000 },
	{ REG_WRITE, 0x62c0, 0x2000, 0x0c803020 },
	{ REG_WRITE, 0x68d0, 0x2000, 0x01000020 },
	{ REG_WRITE, 0x628c, 0x2000, 0x3520e719 },
	{ REG_WRITE, 0x6290, 0x2000, 0x00200020 },
	{ REG_WRITE, 0x68d4, 0x2000, 0x00202018 },
	{ REG_WRITE, 0x6294, 0x2000, 0x0078ffff },
	{ REG_WRITE, 0x6194, 0x2000, 0x20010001 },
	{ REG_WRITE, 0x62b8, 0x2000, 0x53022402 },
	{ REG_WRITE, 0x62c8, 0x2000, 0x10100a0a },
	{ REG_WRITE, 0x62cc, 0x2000, 0x07070404 },
	{ REG_WRITE, 0x62d0, 0x2000, 0x00b00000 },
	{ REG_WRITE, 0x62c4, 0x2000, 0x22000000 },
	{ REG_WRITE, 0x6198, 0x2000, 0x0b800000 },
	{ REG_WRITE, 0x619c, 0x2000, 0x01008180 },
	{ REG_WRITE, 0x61a0, 0x2000, 0x00610000 },
	{ REG_WRITE, 0x61a4, 0x2000, 0x06000003 },
	{ REG_WRITE, 0x61a8, 0x2000, 0x00000008 },
	{ REG_WRITE, 0x61ac, 0x2000, 0x00080000 },
	{ REG_WRITE, 0x640c, 0x2000, 0x11000000 },
	{ REG_WRITE, 0x68d8, 0x2000, 0x22500000 },
	{ REG_WRITE, 0x641c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6420, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6424, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x63d0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x68c8, 0x2000, 0x00420000 },
	{ REG_WRITE, 0x61dc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61e0, 0x2000, 0x00007400 },
	{ REG_WRITE, 0x61e4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x61e8, 0x2000, 0x74000000 },
	{ REG_WRITE, 0x68cc, 0x2000, 0x80306d40 },
	{ REG_WRITE, 0x61ec, 0x2000, 0x8e0001fe },
	{ REG_WRITE, 0x61f0, 0x2000, 0xff30f050 },
	{ REG_WRITE, 0x61f4, 0x2000, 0x00008000 },
	{ REG_WRITE, 0x61f8, 0x2000, 0x80002000 },
	{ REG_WRITE, 0x61fc, 0x2000, 0x00843200 },
	{ REG_WRITE, 0x63d4, 0x2000, 0x70170b00 },
	{ REG_WRITE, 0x6200, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6204, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6208, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6164, 0x2000, 0xcc020000 },
	{ REG_WRITE, 0x620c, 0x2000, 0xbe67000b },
	{ REG_WRITE, 0x6210, 0x2000, 0xe03f0040 },
	{ REG_WRITE, 0x6214, 0x2000, 0x320c7000 },
	{ REG_WRITE, 0x63d8, 0x2000, 0x2030c000 },
	{ REG_WRITE, 0x63dc, 0x2000, 0x3c000000 },
	{ REG_WRITE, 0x6218, 0x2000, 0x0031bf40 },
	{ REG_WRITE, 0x621c, 0x2000, 0x40013018 },
	{ REG_WRITE, 0x6220, 0x2000, 0x60060000 },
	{ REG_WRITE, 0x6224, 0x2000, 0x00e00000 },
	{ REG_WRITE, 0x6228, 0x2000, 0x08062222 },
	{ REG_WRITE, 0x622c, 0x2000, 0x8e8e0000 },
	{ REG_WRITE, 0x6230, 0x2000, 0x02000000 },
	{ REG_WRITE, 0x6234, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6238, 0x2000, 0x30b00000 },
	{ REG_WRITE, 0x623c, 0x2000, 0x80000000 },
	{ REG_WRITE, 0x6240, 0x2000, 0x20001d09 },
	{ REG_WRITE, 0x6244, 0x2000, 0x10000000 },
	{ REG_WRITE, 0x6248, 0x2000, 0x06010020 },
	{ REG_WRITE, 0x624c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6250, 0x2000, 0x0f030050 },
	{ REG_WRITE, 0x6298, 0x2000, 0x00010004 },
	{ REG_WRITE, 0x629c, 0x2000, 0x00018001 },
	{ REG_WRITE, 0x62a0, 0x2000, 0x00019fff },
	{ REG_WRITE, 0x62a4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6254, 0x2000, 0x02700300 },
	{ REG_WRITE, 0x625c, 0x2000, 0x02220e2f },
	{ REG_WRITE, 0x6260, 0x2000, 0xef3d0000 },
	{ REG_WRITE, 0x6264, 0x2000, 0x004f2000 },
	{ REG_WRITE, 0x6898, 0x2000, 0x0d002038 },
	{ REG_WRITE, 0x6148, 0x2000, 0x40006000 },
	{ REG_WRITE, 0x614c, 0x2000, 0x400e8040 },
	{ REG_WRITE, 0x6150, 0x2000, 0xcc0e0001 },
	{ REG_WRITE, 0x6154, 0x2000, 0x00060008 },
	{ REG_WRITE, 0x6158, 0x2000, 0x000a0010 },
	{ REG_WRITE, 0x615c, 0x2000, 0x00200030 },
	{ REG_WRITE, 0x63ec, 0x2000, 0x11000000 },
	{ REG_WRITE, 0x626c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6270, 0x2000, 0x800597d7 },
	{ REG_WRITE, 0x6274, 0x2000, 0x17570000 },
	{ REG_WRITE, 0x6278, 0x2000, 0x3c3fcc01 },
	{ REG_WRITE, 0x627c, 0x2000, 0xf0100000 },
	{ REG_WRITE, 0x6280, 0x2000, 0xff80ec2e },
	{ REG_WRITE, 0x6284, 0x2000, 0x42490000 },
	{ REG_WRITE, 0x6288, 0x2000, 0x94020000 },
	{ REG_WRITE, 0x6258, 0x2000, 0x37823a02 },
	{ REG_WRITE, 0x62a8, 0x2000, 0x89aa0000 },
	{ REG_WRITE, 0x6330, 0x2000, 0x98200000 },
	{ REG_WRITE, 0x6334, 0x2000, 0x00100083 },
	{ REG_WRITE, 0x633c, 0x2000, 0x44444444 },
	{ REG_WRITE, 0x6340, 0x2000, 0x444464a8 },
	{ REG_WRITE, 0x6344, 0x2000, 0x44444444 },
	{ REG_WRITE, 0x6348, 0x2000, 0xb800004c },
	{ REG_WRITE, 0x68e8, 0x2000, 0x006200f0 },
	{ REG_WRITE, 0x634c, 0x2000, 0x0c070000 },
	{ REG_WRITE, 0x6160, 0x2000, 0x4030ff00 },
	{ REG_WRITE, 0x6350, 0x2000, 0x080cc080 },
	{ REG_WRITE, 0x6354, 0x2000, 0x00204030 },
	{ REG_WRITE, 0x6358, 0x2000, 0x10a03040 },
	{ REG_WRITE, 0x6338, 0x2000, 0x10203040 },
	{ REG_WRITE, 0x6364, 0x2000, 0x00110000 },
	{ REG_WRITE, 0x6368, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x636c, 0x2000, 0x02000005 },
	{ REG_WRITE, 0x6428, 0x2000, 0x0e0e0000 },
	{ REG_WRITE, 0x6370, 0x2000, 0x0b000000 },
	{ REG_WRITE, 0x6374, 0x2000, 0xfc040000 },
	{ REG_WRITE, 0x642c, 0x2000, 0x000e0202 },
	{ REG_WRITE, 0x6450, 0x2000, 0x66766539 },
	{ REG_WRITE, 0x6430, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6434, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6438, 0x2000, 0x00002200 },
	{ REG_WRITE, 0x643c, 0x2000, 0xd6ffb9ff },
	{ REG_WRITE, 0x6440, 0x2000, 0xf0006eff },
	{ REG_WRITE, 0x6444, 0x2000, 0x6efe7a03 },
	{ REG_WRITE, 0x6448, 0x2000, 0xf2fe8bf8 },
	{ REG_WRITE, 0x644c, 0x2000, 0xdf116229 },
	{ REG_WRITE, 0x693c, 0x2000, 0xbc020000 },
	{ REG_WRITE, 0x6378, 0x2000, 0x0800030a },
	{ REG_WRITE, 0x637c, 0x2000, 0x10002000 },
	{ REG_WRITE, 0x6454, 0x2000, 0x03000000 },
	{ REG_WRITE, 0x6940, 0x2000, 0x20000000 },
	{ REG_WRITE, 0x6944, 0x2000, 0x0f000000 },
	{ REG_WRITE, 0x6948, 0x2000, 0x77777227 },
	{ REG_WRITE, 0x694c, 0x2000, 0x60400000 },
	{ REG_WRITE, 0x6950, 0x2000, 0x90500000 },
	{ REG_WRITE, 0x6954, 0x2000, 0xcc030000 },
	{ REG_WRITE, 0x6958, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6630, 0x2000, 0x00000200 },
	{ REG_WRITE, 0x6c7c, 0x2000, 0x90050000 },
	{ REG_WRITE, 0x6908, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x691c, 0x2000, 0x05000000 },
	{ REG_WRITE, 0x6460, 0x2000, 0xcffd1004 },
	{ REG_WRITE, 0x6464, 0x2000, 0x0a1c4014 },
	{ REG_WRITE, 0x6468, 0x2000, 0x80414060 },
	{ REG_WRITE, 0x646c, 0x2000, 0x98f0288c },
	{ REG_WRITE, 0x6470, 0x2000, 0x205400fc },
	{ REG_WRITE, 0x6474, 0x2000, 0xff7f1300 },
	{ REG_WRITE, 0x6478, 0x2000, 0x0000ecff },
	{ REG_WRITE, 0x647c, 0x2000, 0x2ff81010 },
	{ REG_WRITE, 0x6480, 0x2000, 0x10480a43 },
	{ REG_WRITE, 0x6484, 0x2000, 0x4f198cf0 },
	{ REG_WRITE, 0x6488, 0x2000, 0x00020606 },
	{ REG_WRITE, 0x648c, 0x2000, 0x06060806 },
	{ REG_WRITE, 0x6490, 0x2000, 0x08083804 },
	{ REG_WRITE, 0x6494, 0x2000, 0x20012001 },
	{ REG_WRITE, 0x6498, 0x2000, 0x00001003 },
	{ REG_WRITE, 0x649c, 0x2000, 0x00012001 },
	{ REG_WRITE, 0x64a0, 0x2000, 0xff040200 },
	{ REG_WRITE, 0x64a4, 0x2000, 0x6005f220 },
	{ REG_WRITE, 0x64a8, 0x2000, 0x200a4a30 },
	{ REG_WRITE, 0x64ac, 0x2000, 0x0af2401e },
	{ REG_WRITE, 0x64b0, 0x2000, 0x0044400a },
	{ REG_WRITE, 0x64b4, 0x2000, 0x3c423228 },
	{ REG_WRITE, 0x64b8, 0x2000, 0x004140ff },
	{ REG_WRITE, 0x64bc, 0x2000, 0x00400e05 },
	{ REG_WRITE, 0x64c0, 0x2000, 0x0e021070 },
	{ REG_WRITE, 0x64c4, 0x2000, 0x0050080a },
	{ REG_WRITE, 0x64c8, 0x2000, 0x40846464 },
	{ REG_WRITE, 0x64cc, 0x2000, 0x4002008b },
	{ REG_WRITE, 0x64d0, 0x2000, 0xb41eb404 },
	{ REG_WRITE, 0x64d4, 0x2000, 0x0020ff58 },
	{ REG_WRITE, 0x64d8, 0x2000, 0x50066420 },
	{ REG_WRITE, 0x64dc, 0x2000, 0x64203900 },
	{ REG_WRITE, 0x64e0, 0x2000, 0xea019a01 },
	{ REG_WRITE, 0x64e4, 0x2000, 0xfa054000 },
	{ REG_WRITE, 0x64f4, 0x2000, 0x0a407a81 },
	{ REG_WRITE, 0x64f8, 0x2000, 0x40604006 },
	{ REG_WRITE, 0x64fc, 0x2000, 0x00009b00 },
	{ REG_WRITE, 0x65cc, 0x2000, 0x680f0000 },
	{ REG_WRITE, 0x65d0, 0x2000, 0x00000028 },
	{ REG_WRITE, 0x65d4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x65d8, 0x2000, 0x00f0ffff },
	{ REG_WRITE, 0x65dc, 0x2000, 0x20203011 },
	{ REG_WRITE, 0x65e0, 0x2000, 0x0a0a0a00 },
	{ REG_WRITE, 0x66cc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x66d0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x66d4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x66d8, 0x2000, 0x002f800f },
	{ REG_WRITE, 0x66dc, 0x2000, 0x801f004a },
	{ REG_WRITE, 0x66e0, 0x2000, 0x0a0a0000 },
	{ REG_WRITE, 0x66e4, 0x2000, 0x00140014 },
	{ REG_WRITE, 0x6500, 0x2000, 0xbe81007c },
	{ REG_WRITE, 0x6504, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6508, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x650c, 0x2000, 0x00001c0e },
	{ REG_WRITE, 0x6510, 0x2000, 0xffff803b },
	{ REG_WRITE, 0x6514, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6518, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x651c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6520, 0x2000, 0x00000f00 },
	{ REG_WRITE, 0x6524, 0x2000, 0x4024ffff },
	{ REG_WRITE, 0x6528, 0x2000, 0x00ff0000 },
	{ REG_WRITE, 0x652c, 0x2000, 0xffffffff },
	{ REG_WRITE, 0x6530, 0x2000, 0x0000ff00 },
	{ REG_WRITE, 0x6534, 0x2000, 0x20208020 },
	{ REG_WRITE, 0x6538, 0x2000, 0x4040c640 },
	{ REG_WRITE, 0x653c, 0x2000, 0x80c20000 },
	{ REG_WRITE, 0x6540, 0x2000, 0x10141010 },
	{ REG_WRITE, 0x6544, 0x2000, 0x5810788f },
	{ REG_WRITE, 0x6548, 0x2000, 0x6f1432f5 },
	{ REG_WRITE, 0x654c, 0x2000, 0x1e241e1e },
	{ REG_WRITE, 0x6550, 0x2000, 0xb708818e },
	{ REG_WRITE, 0x6554, 0x2000, 0x999931f8 },
	{ REG_WRITE, 0x6558, 0x2000, 0x6cb062d5 },
	{ REG_WRITE, 0x655c, 0x2000, 0x016082dc },
	{ REG_WRITE, 0x6560, 0x2000, 0x3d4f1228 },
	{ REG_WRITE, 0x6564, 0x2000, 0x2bcf9809 },
	{ REG_WRITE, 0x6568, 0x2000, 0x1b4bf5f1 },
	{ REG_WRITE, 0x656c, 0x2000, 0x3def323c },
	{ REG_WRITE, 0x6570, 0x2000, 0x203398a9 },
	{ REG_WRITE, 0x6574, 0x2000, 0x3e43d934 },
	{ REG_WRITE, 0x6578, 0x2000, 0x2598a31f },
	{ REG_WRITE, 0x657c, 0x2000, 0x2b529e4a },
	{ REG_WRITE, 0x6580, 0x2000, 0x7b4efb5c },
	{ REG_WRITE, 0x6584, 0x2000, 0xc3d05224 },
	{ REG_WRITE, 0x6588, 0x2000, 0x2bfd9eea },
	{ REG_WRITE, 0x658c, 0x2000, 0xdb51f0d8 },
	{ REG_WRITE, 0x6590, 0x2000, 0x3dbf2080 },
	{ REG_WRITE, 0x6594, 0x2000, 0x25801814 },
	{ REG_WRITE, 0x6598, 0x2000, 0x1f1c600d },
	{ REG_WRITE, 0x659c, 0x2000, 0x40020020 },
	{ REG_WRITE, 0x65a0, 0x2000, 0x88888888 },
	{ REG_WRITE, 0x65a4, 0x2000, 0x88788888 },
	{ REG_WRITE, 0x65a8, 0x2000, 0x88678888 },
	{ REG_WRITE, 0x65ac, 0x2000, 0x04007856 },
	{ REG_WRITE, 0x65b0, 0x2000, 0x23006845 },
	{ REG_WRITE, 0x65b4, 0x2000, 0x02004623 },
	{ REG_WRITE, 0x65b8, 0x2000, 0x01003512 },
	{ REG_WRITE, 0x65bc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x65c0, 0x2000, 0x050a0344 },
	{ REG_WRITE, 0x65e4, 0x2000, 0x50200070 },
	{ REG_WRITE, 0x65e8, 0x2000, 0x00836008 },
	{ REG_WRITE, 0x65ec, 0x2000, 0x00401428 },
	{ REG_WRITE, 0x65f0, 0x2000, 0x00281428 },
	{ REG_WRITE, 0x65f4, 0x2000, 0x00802814 },
	{ REG_WRITE, 0x65f8, 0x2000, 0x1f00f070 },
	{ REG_WRITE, 0x660c, 0x2000, 0x403e280a },
	{ REG_WRITE, 0x6610, 0x2000, 0x380b10be },
	{ REG_WRITE, 0x6614, 0x2000, 0x1010ff04 },
	{ REG_WRITE, 0x6618, 0x2000, 0x577f4608 },
	{ REG_WRITE, 0x661c, 0x2000, 0x3230600a },
	{ REG_WRITE, 0x6620, 0x2000, 0x200b0810 },
	{ REG_WRITE, 0x6638, 0x2000, 0xfd270000 },
	{ REG_WRITE, 0x663c, 0x2000, 0x08000000 },
	{ REG_WRITE, 0x6640, 0x2000, 0xf0070000 },
	{ REG_WRITE, 0x6644, 0x2000, 0x1d000000 },
	{ REG_WRITE, 0x6648, 0x2000, 0xcd070000 },
	{ REG_WRITE, 0x664c, 0x2000, 0x64000000 },
	{ REG_WRITE, 0x6650, 0x2000, 0xbd060002 },
	{ REG_WRITE, 0x6654, 0x2000, 0x0300d807 },
	{ REG_WRITE, 0x6658, 0x2000, 0xf3071100 },
	{ REG_WRITE, 0x665c, 0x2000, 0x1e000900 },
	{ REG_WRITE, 0x6660, 0x2000, 0xdc07da07 },
	{ REG_WRITE, 0x6664, 0x2000, 0x18005300 },
	{ REG_WRITE, 0x6668, 0x2000, 0x32009207 },
	{ REG_WRITE, 0x666c, 0x2000, 0xd2068602 },
	{ REG_WRITE, 0x6670, 0x2000, 0xc802c8c8 },
	{ REG_WRITE, 0x6674, 0x2000, 0xa7140000 },
	{ REG_WRITE, 0x6678, 0x2000, 0x60140080 },
	{ REG_WRITE, 0x667c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6680, 0x2000, 0x00000100 },
	{ REG_WRITE, 0x6690, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6694, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6698, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x669c, 0x2000, 0x00000800 },
	{ REG_WRITE, 0x66a0, 0x2000, 0x28002a11 },
	{ REG_WRITE, 0x66a4, 0x2000, 0x580e4400 },
	{ REG_WRITE, 0x66a8, 0x2000, 0x0422be80 },
	{ REG_WRITE, 0x66ac, 0x2000, 0xb42c0404 },
	{ REG_WRITE, 0x66b0, 0x2000, 0xc30a0000 },
	{ REG_WRITE, 0x66b4, 0x2000, 0x00005061 },
	{ REG_WRITE, 0x66b8, 0x2000, 0x80413064 },
	{ REG_WRITE, 0x66bc, 0x2000, 0x28a028a0 },
	{ REG_WRITE, 0x66c0, 0x2000, 0xff021400 },
	{ REG_WRITE, 0x66c4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x65c4, 0x2000, 0xf0127f8f },
	{ REG_WRITE, 0x65c8, 0x2000, 0x343bb100 },
	{ REG_WRITE, 0x6b74, 0x2000, 0x43000000 },
	{ REG_WRITE, 0x6b78, 0x2000, 0xc86f0300 },
	{ REG_WRITE, 0x6b7c, 0x2000, 0xaf1e0400 },
	{ REG_WRITE, 0x6b80, 0x2000, 0x91df0600 },
	{ REG_WRITE, 0x6b88, 0x2000, 0x5f3d0800 },
	{ REG_WRITE, 0x6b8c, 0x2000, 0x0f800000 },
	{ REG_WRITE, 0x6b54, 0x2000, 0x10010000 },
	{ REG_WRITE, 0x6b58, 0x2000, 0x00040400 },
	{ REG_WRITE, 0x6940, 0x2000, 0x20000000 },
	{ REG_WRITE, 0x6908, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6974, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6978, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6780, 0x2000, 0x03003f00 },
	{ REG_WRITE, 0x6abc, 0x2000, 0x0202000c },
	{ REG_WRITE, 0x66f4, 0x2000, 0x000c08f0 },
	{ REG_WRITE, 0x66f8, 0x2000, 0x08000b07 },
	{ REG_WRITE, 0x60a0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6700, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x697c, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x6ac4, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x6ac0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6708, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x670c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6710, 0x2000, 0x000000f8 },
	{ REG_WRITE, 0x6714, 0x2000, 0x783d0000 },
	{ REG_WRITE, 0x6718, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x671c, 0x2000, 0xffffffff },
	{ REG_WRITE, 0x68a4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ae8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ad0, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6ad4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ad8, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6adc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ae0, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6ae4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6aec, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6af0, 0x2000, 0x0000f807 },
	{ REG_WRITE, 0x6af4, 0x2000, 0x00100000 },
	{ REG_WRITE, 0x6af8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6afc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6b00, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6b04, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a10, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a14, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a18, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a1c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a20, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a58, 0x2000, 0x04000000 },
	{ REG_WRITE, 0x6a24, 0x2000, 0x1c000000 },
	{ REG_WRITE, 0x6a28, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a2c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a30, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a40, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a44, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a48, 0x2000, 0x03000000 },
	{ REG_WRITE, 0x6b08, 0x2000, 0x00800000 },
	{ REG_WRITE, 0x6a4c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a50, 0x2000, 0x60003807 },
	{ REG_WRITE, 0x6a54, 0x2000, 0x3c060000 },
	{ REG_WRITE, 0x6a5c, 0x2000, 0xc0000000 },
	{ REG_WRITE, 0x6a60, 0x2000, 0x00020000 },
	{ REG_WRITE, 0x6a64, 0x2000, 0x000022c1 },
	{ REG_WRITE, 0x6a68, 0x2000, 0x001c2893 },
	{ REG_WRITE, 0x6a6c, 0x2000, 0x00008f60 },
	{ REG_WRITE, 0x6a70, 0x2000, 0x000a0000 },
	{ REG_WRITE, 0x6a74, 0x2000, 0x2064a8ec },
	{ REG_WRITE, 0x6a78, 0x2000, 0x40100000 },
	{ REG_WRITE, 0x6a7c, 0x2000, 0x2300f401 },
	{ REG_WRITE, 0x6a80, 0x2000, 0x32000000 },
	{ REG_WRITE, 0x6a84, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a88, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x68f0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a9c, 0x2000, 0x00002000 },
	{ REG_WRITE, 0x6aa0, 0x2000, 0x10000838 },
	{ REG_WRITE, 0x6aa4, 0x2000, 0x2f023800 },
	{ REG_WRITE, 0x6aa8, 0x2000, 0x38300000 },
	{ REG_WRITE, 0x6ab0, 0x2000, 0x20100000 },
	{ REG_WRITE, 0x6ab4, 0x2000, 0x40008000 },
	{ REG_WRITE, 0x6ab8, 0x2000, 0xc0000001 },
	{ REG_WRITE, 0x6068, 0x2000, 0x80000000 },
	{ REG_WRITE, 0x68f8, 0x2000, 0x06000000 },
	{ REG_WRITE, 0x68a8, 0x2000, 0x00200000 },
	{ REG_WRITE, 0x696c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6938, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6b50, 0x2000, 0x00070001 },
	{ REG_WRITE, 0x6b20, 0x2000, 0xa6000000 },
	{ REG_WRITE, 0x6b28, 0x2000, 0xe4000000 },
	{ REG_WRITE, 0x6b24, 0x2000, 0xe4000000 },
	{ REG_READ,  0x6904, 0x2000, 0x0f000fe4 },
	{ REG_WRITE, 0x6904, 0x2000, 0x0f1000e4 },
	{ REG_READ,  0x6010, 0x2000, 0xaa060300 },
	{ REG_WRITE, 0x6010, 0x2000, 0xaa060300 },
	{ REG_READ,  0x6018, 0x2000, 0xaa060200 },
	{ REG_WRITE, 0x6018, 0x2000, 0xaa060200 },
	{ REG_WRITE, 0x6068, 0x2000, 0x80000000 },
	{ REG_READ,  0x605c, 0x2000, 0x03000300 },
	{ REG_WRITE, 0x605c, 0x2000, 0x03000200 },
	{ REG_READ,  0x6040, 0x2000, 0x10001000 },
	{ REG_WRITE, 0x6040, 0x2000, 0x00010001 },
	{ REG_READ,  0x6044, 0x2000, 0x01000100 },
	{ REG_WRITE, 0x6044, 0x2000, 0x00010001 },
	{ REG_WRITE, 0x604c, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x6050, 0x2000, 0x79000000 },
	{ REG_WRITE, 0x6054, 0x2000, 0xeb5c0000 },
	{ REG_WRITE, 0x6058, 0x2000, 0x1c001c00 },
	{ REG_WRITE, 0x6c1c, 0x2000, 0x5aa20200 },
	{ REG_WRITE, 0x6cac, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cb0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cb4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cb8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cbc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cc0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cc4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cc8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ccc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cd0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cd4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6cd8, 0x2000, 0x01100000 },
	{ REG_WRITE, 0x6cdc, 0x2000, 0x09900000 },
	{ REG_WRITE, 0x6ce0, 0x2000, 0x3ccff300 },
	{ REG_WRITE, 0x6ce4, 0x2000, 0x3bb11300 },
	{ REG_WRITE, 0x6ce8, 0x2000, 0x61111600 },
	{ REG_WRITE, 0x6cec, 0x2000, 0x3cc44300 },
	{ REG_WRITE, 0x6c7c, 0x2000, 0x901d0000 },
	{ REG_WRITE, 0x6cf0, 0x2000, 0x40870003 },
	{ REG_WRITE, 0x6c5c, 0x2000, 0x80801a0f },
	{ REG_WRITE, 0x6c78, 0x2000, 0xc02c2020 },
	{ REG_READ,  0x6ca0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ca0, 0x2000, 0x03000000 },
	{ REG_WRITE, 0x6c8c, 0x2000, 0xff0000ff },
	{ REG_WRITE, 0x6c90, 0x2000, 0xffffffff },
	{ REG_WRITE, 0x6cf4, 0x2000, 0xd0806767 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x6ad4, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6ad4, 0x2000, 0x00000000 },
	{ REG_READ,  0x6ad0, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6ad0, 0x2000, 0x00020002 },
	{ REG_READ,  0x6a90, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6a90, 0x2000, 0x00000000 },
	{ REG_READ,  0x6ae0, 0x2000, 0x00020002 },
	{ REG_READ,  0x6ad8, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6ae0, 0x2000, 0x00020002 },
	{ REG_WRITE, 0x6ad8, 0x2000, 0x00020002 },
	{ REG_READ,  0x68f0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x68f0, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x6b3c, 0x2000, 0x22000000 },
	{ REG_READ,  0x6b40, 0x2000, 0xe803e803 },
	{ REG_WRITE, 0x6b40, 0x2000, 0xe803e803 },
	{ REG_WRITE, 0x6b44, 0x2000, 0x6b802f1b },
	{ REG_READ,  0x0000, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x0000, 0x2000, 0x01000000 },
	{ REG_READ,  0x0804, 0x2000, 0x37faff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_WRITE, 0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_WRITE, 0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x08b0, 0x2000, 0x08a00100 },
	{ REG_READ,  0x08b4, 0x2000, 0x24000087 },
	{ REG_READ,  0x08b8, 0x2000, 0x00c61800 },
	{ REG_READ,  0x08bc, 0x2000, 0x0000c000 },
	{ REG_READ,  0x08c0, 0x2000, 0x01000000 },
	{ REG_READ,  0x08c4, 0x2000, 0xa8000000 },
	{ REG_READ,  0x0938, 0x2000, 0x08a00100 },
	{ REG_READ,  0x093c, 0x2000, 0x24000087 },
	{ REG_READ,  0x0940, 0x2000, 0x00d64a00 },
	{ REG_READ,  0x0944, 0x2000, 0x00009533 },
	{ REG_READ,  0x0948, 0x2000, 0x37dc0200 },
	{ REG_READ,  0x094c, 0x2000, 0xa8000000 },
	{ REG_READ,  0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0000ff07 },
	{ REG_READ,  0x0804, 0x2000, 0x37faff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_WRITE, 0x0804, 0x2000, 0x30faff00 },
	{ REG_READ,  0x0804, 0x2000, 0x30faff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_READ,  0x0804, 0x2000, 0x30faff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x30daff00 },
	{ REG_READ,  0x0804, 0x2000, 0x30daff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x305aff00 },
	{ REG_READ,  0x0804, 0x2000, 0x305aff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },

	{ .op = MAX_REG_OP },
};

struct tvwsdr_reg_cmd tvw_init2[] = {
	{ REG_WRITE, 0xe000, 0x1000, 0x50000000 },
	{ REG_READ,  0x0228, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x0228, 0x2000, 0x3e030000 },
	{ REG_READ,  0x0224, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x0224, 0x2000, 0x0c000000 },
	{ REG_READ,  0x0224, 0x2000, 0x0c000000 },
	{ REG_WRITE, 0x0224, 0x2000, 0x0c000000 },
	{ REG_READ,  0x0820, 0x2000, 0x0100ff07 },
	{ REG_WRITE, 0x0820, 0x2000, 0x0100ff07 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },

	{ .op = MAX_REG_OP },
};

/* Register 0x4400 appears to be some sort of communication with a micro.
 * To read something from it, write 0x40XXYYZZ to 0x4400 where XXYY is the
 * register (which seems to start at 0xf000) and ZZ is 0x00.  Then, read
 * from 0x4400.  XXYY will be the same data written previously, but ZZ will
 * be the register's contents.
 * To write something, write 0x80XXYYZZ where XXYY is as before, but ZZ is
 * the data to write.
 */

struct tvwsdr_reg_cmd tvw_init3[] = {
	{ REG_READ,  0x0224, 0x2000, 0x0c000000 },
	{ REG_WRITE, 0x0224, 0x2000, 0x0c000000 },
	{ REG_READ,  0x08f8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x08f8, 0x2000, 0x00000000 },
	{ REG_READ,  0x0894, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x0894, 0x2000, 0x00001fa0 },
	{ REG_READ,  0x0898, 0x2000, 0x04040000 },
	{ REG_WRITE, 0x0898, 0x2000, 0x24850f00 },
	{ REG_READ,  0x089c, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x089c, 0x2000, 0x00001f00 },
	{ REG_READ,  0x08a0, 0x2000, 0x04040000 },
	{ REG_WRITE, 0x08a0, 0x2000, 0x3e850f02 },
	{ REG_WRITE, 0x4400, 0x2000, 0xff08f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x7f09f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xdf0af080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0001f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x000df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xff0df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x000bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc00bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0001f340 },
	{ REG_READ,  0x4400, 0x2000, 0x0001f340 },
	{ REG_WRITE, 0x4400, 0x2000, 0x1f01f380 },
	{ REG_WRITE, 0x4400, 0x2000, 0x800ef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xff1af080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xfc1bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xff1ef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x002bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x302bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x302bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0xc00bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc00bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x5008f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0009f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000af080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x002bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x302bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x202bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0xc00bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x800bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0xff0df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9f0df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x9f0df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xff0df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x000cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x070cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x800bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc00bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0xff0df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x070cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0xc00bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0089f040 },
	{ REG_READ,  0x4400, 0x2000, 0x8089f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x8089f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x402af080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0081f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0082f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0083f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0084f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0085f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0086f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0090f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0091f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0092f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0093f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0094f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0095f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0096f080 },

	{ .op = MAX_REG_OP },
};

struct tvwsdr_reg_cmd tvw_init4[] = {
	{ REG_WRITE, 0x4400, 0x2000, 0x002af040 },
	{ REG_READ,  0x4400, 0x2000, 0x402af040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x002af080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x009ff040 },
	/* 0x8e1a is T507.bin fw size */
	{ REG_WRITE, 0x4400, 0x2000, 0x8ea0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x1aa1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xefa2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x36a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xbc9ff080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0089f040 },
	{ REG_READ,  0x4400, 0x2000, 0x8089f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0089f080 },
	{ REG_SLEEP,      0,      0,        100 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0xbc9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x3c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x000bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x000bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0024f040 },
	{ REG_READ,  0x4400, 0x2000, 0x8024f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0024f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0024f040 },
	{ REG_READ,  0x4400, 0x2000, 0x0024f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0025f040 },
	{ REG_READ,  0x4400, 0x2000, 0x0425f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0026f040 },
	{ REG_READ,  0x4400, 0x2000, 0x1726f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x3c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0ca0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0da0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0ea0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0fa0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x10a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x11a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x12a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x13a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x14a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x15a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x16a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x17a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x18a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0ca0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0da0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0ea0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x1da0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd7a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc8a6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x22a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x33a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6aaf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x35abf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcdacf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x15adf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3aef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04aff080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x1ea0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcda6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0fa0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x1fa0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd7a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc8a6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x22a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x33a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6aaf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x35abf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcdacf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x15adf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3aef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04aff080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x20a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcda6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x10a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x21a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc2a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x60a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd7a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x07a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc8a6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x22a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x33a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6aaf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x35abf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcdacf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x15adf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3aef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04aff080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x22a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x04a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xd5a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc6a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xcda6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xc3a8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x03a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x32a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x18a3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x6aa4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x18a5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x6aa6f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x18a7f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x6aa8f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x18a9f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x6aaaf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0017f140 },
	{ REG_READ,  0x4400, 0x2000, 0xc117f140 },
	{ REG_WRITE, 0x4400, 0x2000, 0x7117f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000ef040 },
	{ REG_READ,  0x4400, 0x2000, 0x800ef040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000ef080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x000ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x180ff080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x0080f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x000df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x100df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x0080f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0c80f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0081f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008df480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x8082f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0083f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0084f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0688f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008cf480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008bf480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x0c80f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x4c80f480 },
	{ REG_READ,  0x08f8, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x08f8, 0x2000, 0x00000000 },
	{ REG_READ,  0x0894, 0x2000, 0x00001fa0 },
	{ REG_WRITE, 0x0894, 0x2000, 0x00001fa0 },
	{ REG_READ,  0x0898, 0x2000, 0x24850f00 },
	{ REG_WRITE, 0x0898, 0x2000, 0x24850f00 },
	{ REG_READ,  0x089c, 0x2000, 0x00001f00 },
	{ REG_WRITE, 0x089c, 0x2000, 0x00001f00 },
	{ REG_READ,  0x08a0, 0x2000, 0x3e850f02 },
	{ REG_WRITE, 0x08a0, 0x2000, 0x3e850f02 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x000df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x010df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x0850, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x102c, 0x2000, 0x01000000 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00b2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00b3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00b4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00b5f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x000bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x400bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x002bf040 },
	{ REG_READ,  0x4400, 0x2000, 0x002bf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x002bf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x000df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x010df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x020df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0xe2a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0xeda1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x8ba2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9ba3f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a4f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9a9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9a9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1a9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0001f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0000f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0717f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x001cf180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x001df180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0006f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0003f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x6002f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0401f180 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1a9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x01a0f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x02a1f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x00a2f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x9c9ff080 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf040 },
	{ REG_READ,  0x4400, 0x2000, 0x9c9cf040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009cf080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x009ff040 },
	{ REG_READ,  0x4400, 0x2000, 0x1c9ff040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x6c80f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x2c80f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df040 },
	{ REG_READ,  0x4400, 0x2000, 0x000df040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x100df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x000df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x0080f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0480f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0081f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008df480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x8082f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0083f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0084f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0088f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008cf480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x008bf480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0080f440 },
	{ REG_READ,  0x4400, 0x2000, 0x0480f440 },
	{ REG_WRITE, 0x4400, 0x2000, 0x4480f480 },
	{ REG_WRITE, 0x4400, 0x2000, 0x8090f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0091f040 },
	{ REG_SLEEP,      0,      0,         10 },
	{ REG_READ,  0x4400, 0x2000, 0x8091f040 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0163f080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x0401f180 },
	{ REG_READ,  0x0804, 0x2000, 0x305aff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x305aff00 },

	{ .op = MAX_REG_OP },
};

struct tvwsdr_reg_cmd tvw_init5[] = {
	{ REG_READ,  0x08b0, 0x2000, 0x08a00100 },
	{ REG_READ,  0x08b4, 0x2000, 0x24000087 },
	{ REG_READ,  0x08b8, 0x2000, 0x00c61800 },
	{ REG_READ,  0x08bc, 0x2000, 0x0000c000 },
	{ REG_READ,  0x08c0, 0x2000, 0x01000000 },
	{ REG_READ,  0x08c4, 0x2000, 0xa8000000 },
	{ REG_READ,  0x0938, 0x2000, 0x08a00100 },
	{ REG_READ,  0x093c, 0x2000, 0x24000087 },
	{ REG_READ,  0x0940, 0x2000, 0x00d64a00 },
	{ REG_READ,  0x0944, 0x2000, 0x00009533 },
	{ REG_READ,  0x0948, 0x2000, 0x37dc0200 },
	{ REG_READ,  0x094c, 0x2000, 0xa8000000 },
	{ REG_READ,  0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0000ff07 },
	{ REG_READ,  0x0804, 0x2000, 0x305aff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_WRITE, 0x0804, 0x2000, 0x305aff00 },
	{ REG_READ,  0x0804, 0x2000, 0x305aff00 },
	{ REG_READ,  0x0808, 0x2000, 0x55010700 },
	{ REG_READ,  0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0000ff07 },
	{ REG_READ,  0x0938, 0x2000, 0x08a00100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a10100 },
	{ REG_WRITE, 0x08e0, 0x2000, 0xe5df0c00 },
	{ REG_WRITE, 0x08e4, 0x2000, 0xff760100 },
	{ REG_WRITE, 0x08e8, 0x2000, 0x80088028 },
	{ REG_READ,  0x0224, 0x2000, 0x0c000000 },
	{ REG_WRITE, 0x0224, 0x2000, 0x0c000000 },
	{ REG_READ,  0x0224, 0x2000, 0x0c000000 },
	{ REG_WRITE, 0x0224, 0x2000, 0x0c000000 },
	{ REG_READ,  0x0870, 0x2000, 0x0000ff07 },
	{ REG_WRITE, 0x0870, 0x2000, 0x0200ff07 },
	{ REG_READ,  0x0938, 0x2000, 0x08a10100 },
	{ REG_WRITE, 0x0938, 0x2000, 0x08a10100 },
	{ REG_WRITE, 0x08e0, 0x2000, 0xe5df0c00 },
	{ REG_WRITE, 0x08e4, 0x2000, 0xff760100 },
	{ REG_WRITE, 0x08e8, 0x2000, 0x80088028 },
	{ REG_READ,  0x0834, 0x2000, 0x80000000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0800, 0x2000, 0x97071000 },
	{ REG_READ,  0x0804, 0x2000, 0x305aff00 },
	{ REG_WRITE, 0x0804, 0x2000, 0x305aff00 },

	{ .op = MAX_REG_OP },
};

struct tvwsdr_reg_cmd tvw_init6[] = {
	{ REG_WRITE, 0x0808, 0x2000, 0x54010720 },
	{ REG_WRITE, 0x0938, 0x2000, 0x19a10100 },
	{ REG_WRITE, 0x4400, 0x2000, 0xe00df080 },
	{ REG_WRITE, 0x4400, 0x2000, 0x070cf080 },
	{ REG_WRITE, 0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x08ac, 0x2000, 0xa8f00000 },
	{ REG_WRITE, 0x08ac, 0x2000, 0xa0f00000 },
	{ REG_READ,  0x00f0, 0x2000, 0x09020305 },
	{ REG_WRITE, 0x00f0, 0x2000, 0x0902ff05 },
	{ REG_READ,  0x00fc, 0x2000, 0x00000000 },
	{ REG_WRITE, 0x00fc, 0x2000, 0x00000000 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },
	{ REG_READ,  0x0804, 0x2000, 0x308a1f00 },

	{ .op = MAX_REG_OP },
}; // ati_00.pcap 35902

void
tvwsdr_msleep(int msecs) {
	struct timespec ts;

	ts.tv_sec = 0;
	ts.tv_nsec = msecs * 1000 * 1000;

	nanosleep(&ts, NULL);
}

int
tvwsdr_read_reg(uint16_t reg, uint16_t page, void *buf, uint16_t len) {
	int ret, n_read;
	uint16_t flags = 0x0000, len_le, rlen = len;
	unsigned char tmpbuf[12] = {0};

	/* ugly hack for one register read following the firmware upload */
	if (reg == 0x0000 && page == 0x8000 && len == 0x0000) {
		flags = 0xbfc1;
		rlen = 4;
	}

	reg = htole16(reg);
	page = htole16(page);
	len_le = htole16(len);
	flags = htole16(flags);
	memcpy(tmpbuf + 0, &reg, 2);
	memcpy(tmpbuf + 2, &page, 2);
	memcpy(tmpbuf + 4, &len_le, 2);
	memcpy(tmpbuf + 6, &flags, 2);
	tmpbuf[7] |= (1 << 7);
	reg = ~reg;
	page = ~page;
	memcpy(tmpbuf + 8, &reg, 2);
	memcpy(tmpbuf + 10, &page, 2);

	/* write offset */
	ret = libusb_bulk_transfer(devh, 0x03, tmpbuf, 12, &n_read, BULK_TIMEOUT);
	if (ret) {
		return ret;
	}

	/* read data */
	ret = libusb_bulk_transfer(devh, 0x82, buf, rlen, &n_read, BULK_TIMEOUT);

	return ret;
}

int
tvwsdr_write_reg(uint16_t reg, uint16_t page, void *buf, uint16_t len) {
	int ret, n_read;
	uint16_t len_le;
	unsigned char tmpbuf[12] = {0};

	reg = htole16(reg);
	page = htole16(page);
	len_le = htole16(len);
	memcpy(tmpbuf + 0, &reg, 2);
	memcpy(tmpbuf + 2, &page, 2);
	memcpy(tmpbuf + 4, &len_le, 2);
	tmpbuf[7] |= (0 << 7);
	reg = ~reg;
	page = ~page;
	memcpy(tmpbuf + 8, &reg, 2);
	memcpy(tmpbuf + 10, &page, 2);

	/* write offset */
	ret = libusb_bulk_transfer(devh, 0x03, tmpbuf, 12, &n_read, BULK_TIMEOUT);
	if (ret) {
		return ret;
	}

	/* write data */
	ret = libusb_bulk_transfer(devh, 0x03, buf, len, &n_read, BULK_TIMEOUT);

	return ret;
}

void
dump_regs(uint16_t page, uint16_t start, uint16_t span) {
	uint16_t i, reg, regmax;
	unsigned char buf[16];

	reg = start; regmax = reg + span;
	do {
		tvwsdr_read_reg(reg, page, buf, (uint16_t)sizeof(buf));
		printf("%04x: ", reg);
		for(i = 0; i < sizeof(buf); i++) {
			printf("%02x", buf[i]);
		}
		printf("\n");
		fflush(stdout);

		reg += sizeof(buf);
	} while(reg && reg <= (regmax - sizeof(buf) + 1));
}

int
tvwsdr_run_reg_cmds(struct tvwsdr_reg_cmd *cmds) {
	int ret;
	size_t off = 0;
	uint32_t val;
	unsigned char buf[4];

	while(cmds[off].op != MAX_REG_OP) {
		switch(cmds[off].op) {
		case REG_READ:
			ret = tvwsdr_read_reg(cmds[off].reg, cmds[off].page, buf, 4);
			if (ret) {
				return ret;
			}
			memcpy(&val, buf, 4);
			val = be32toh(val);
			printf("R %04x/%04x %08x (%c %08x)\n",
				cmds[off].reg, cmds[off].page, cmds[off].val,
				val == cmds[off].val ? 'Y' : 'N', val);
			break;

		case REG_WRITE:
			val = htobe32(cmds[off].val);
			memcpy(buf, &val, 4);
			ret = tvwsdr_write_reg(cmds[off].reg, cmds[off].page, buf, 4);
			if (ret) {
				return ret;
			}
			printf("W %04x/%04x %08x\n",
				cmds[off].reg, cmds[off].page, cmds[off].val);
			break;

		case REG_SLEEP:
			tvwsdr_msleep(cmds[off].val);
			break;

		default:
			break;
		}

		off++;
	}

	return 0;
}

int
tvwsdr_load_fw(const char *fn) {
	char *buf;
	int fd;
	size_t flen, fpos;
	ssize_t rret;
	struct stat fileinfo;
	uint16_t wlen;

	fd = open(fn, O_RDONLY);
	if (fd < 0) {
		warn("failed to open %s", fn);
		return -1;
	}

	if (fstat(fd, &fileinfo)) {
		warn("failed to stat fd");
		return -1;
	}

	if (fileinfo.st_size <= 0) {
		warnx("invalid file size");
		return -1;
	}

	flen = (size_t)fileinfo.st_size;
	if (NULL == (buf = malloc(flen))) {
		warn("failed to allocate file buffer");
		return -1;
	}

	rret = read(fd, buf, flen);
	if (rret < 0 || (size_t)rret != flen) {
		warn("failed to read file");
		free(buf);
		return -1;
	}

	for(fpos = 0; fpos < flen; fpos += 512) {
		if (flen < 512 || flen - 512 < fpos) {
			wlen = flen - fpos;
		}
		else {
			wlen = 512;
		}
		if (tvwsdr_write_reg((uint16_t)fpos, 0x1001, buf + fpos, wlen)) {
			warnx("failed firmware transfer at 0x%04x", (uint16_t)fpos);
			free(buf);
			return -1;
		}
		if (flen - fpos == 512) {
			/* according to the USB spec, we need to send a 0 byte packet
			 * to terminate the transmission
			 */
			/* FIXME */
		}
	}

	free(buf);

	return 0;
}

int
tvwsdr_read_i2c(unsigned char *outbuf, uint8_t len) {
	uint8_t addr, count;
	unsigned char ctrl[4], tmpbuf[4];

	/* address discovery? */
	ctrl[0] = 0xe7;
	ctrl[1] = 0x05;
	ctrl[2] = 0x11;
	ctrl[3] = 0x08;
	if (tvwsdr_write_reg(0x03e0, 0x2000, ctrl, 4)) {
		return -1;
	}

	memset(ctrl, 0, 4);
	if (tvwsdr_write_reg(0x03e4, 0x2000, ctrl, 4)) {
		return -1;
	}

	/* read discovered address? */
	if (tvwsdr_read_reg(0x03e0, 0x2000, ctrl, 4)) {
		return -1;
	}
	addr = (uint8_t)ctrl[0];
	if (tvwsdr_write_reg(0x03e0, 0x2000, ctrl, 4)) {
		return -1;
	}

	/* write transaction length */
	ctrl[0] = (unsigned char)len;
	ctrl[1] = 0x01;
	ctrl[2] = 0x00;
	ctrl[3] = 0x10;
	if (tvwsdr_write_reg(0x03e4, 0x2000, ctrl, 4)) {
		return -1;
	}

	/* write i2c address with "read" bit set */
	ctrl[0] = (unsigned char)addr | 0x01;
	ctrl[1] = ctrl[2] = ctrl[3] = 0x00;
	if (tvwsdr_write_reg(0x03e8, 0x2000, ctrl, 4)) {
		return -1;
	}

	if (tvwsdr_read_reg(0x03e0, 0x2000, ctrl, 4)) {
		return -1;
	}
	ctrl[1] |= 0x10;
	if (tvwsdr_write_reg(0x03e0, 0x2000, ctrl, 4)) {
		return -1;
	}

	/* wait for a bit to clear */
	for(count = 0; count < 100; count++) {
		if (tvwsdr_read_reg(0x03e0, 0x2000, ctrl, 4)) {
			return -1;
		}
		if ((ctrl[1] & 0x10) == 0x00) {
			break;
		}
	}
	if (count == 100) {
		printf("timed out waiting for i2c ready bit to clear\n");
		return -1;
	}

	for(count = 0; count < len; count++) {
		if (tvwsdr_read_reg(0x03e8, 0x2000, tmpbuf, 4)) {
			return -1;
		}
		outbuf[count] = tmpbuf[0];
	}

	return 0;
}

/*
int
tvwsdr_write_i2c() {
}
*/

int
init_tvw() {
	int ret;
	unsigned char buf[16];
	unsigned int i;

	ret = tvwsdr_run_reg_cmds(tvw_init1);
	if (ret) {
		printf("failed to init(1) device: %i\n", ret);
		return -1;
	}

	ret = tvwsdr_load_fw("CTRLT507-fixed.bin");
	if (ret) {
		printf("failed to load firmware\n");
		return -1;
	}

	if (tvwsdr_read_reg(0x200c, 0x2000, buf, 4)) {
		printf("failed to read 0x200c\n");
		return -1;
	}
	if (tvwsdr_write_reg(0x200c, 0x2000, buf, 4)) {
		printf("failed to write 0x200c\n");
		return -1;
	}

	/* this register read doesn't follow the pattern of the rest... */
	if (tvwsdr_read_reg(0x0000, 0x8000, buf, 0)) {
		printf("failed to do odd register read\n");
		return -1;
	}

	ret = tvwsdr_run_reg_cmds(tvw_init2);
	if (ret) {
		printf("failed to init(2) device: %i\n", ret);
		return -1;
	}

	/* SPI? */

	/* switch to bAlternateSetting 1 */
	if (libusb_set_interface_alt_setting(devh, 0, 1)) {
		printf("failed to set alternate setting 1\n");
		return -1;
	}

	ret = tvwsdr_run_reg_cmds(tvw_init3);
	if (ret) {
		printf("failed to init(3) device: %i\n", ret);
		return -1;
	}

	ret = tvwsdr_load_fw("T507.bin");
	if (ret) {
		printf("failed to load firmware\n");
		return -1;
	}

	/* XXX make into function */
	if (tvwsdr_read_reg(0xe000, 0x1000, buf, 4)) {
		printf("failed to read 0xe000\n");
		return -1;
	}

	// 0x1301000001001a8e0000000000000000 
	memset(buf, 0, sizeof(buf));
	buf[0] = 0x13;
	buf[1] = 0x01;
	buf[4] = 0x01;
	/* 0x8e1a is T507.bin fw size */
	buf[6] = 0x1a;
	buf[7] = 0x8e;
	if (tvwsdr_write_reg(0xe000, 0x1000, buf, 16)) {
		printf("failed to write 0xe000\n");
		return -1;
	}

	sleep(1);

	if (tvwsdr_read_reg(0xe010, 0x1000, buf, 16)) {
		printf("failed to read 0xe010\n");
		return -1;
	}

	ret = tvwsdr_run_reg_cmds(tvw_init4);
	if (ret) {
		printf("failed to init(4) device: %i\n", ret);
		return -1;
	}

	/* tuner config over I2C */
	if (tvwsdr_read_i2c(buf, sizeof(buf))) {
		printf("failed to read i2c data\n");
		return -1;
	}
	for(i = 0; i < sizeof(buf); i++) {
		printf("i2c[0x%02x] = 0x%02x\n", i, buf[i]);
	}

	ret = tvwsdr_run_reg_cmds(tvw_init5);
	if (ret) {
		printf("failed to init(5) device: %i\n", ret);
		return -1;
	}

	/* XXX make into function */
	if (tvwsdr_read_reg(0xe000, 0x1000, buf, 4)) {
		printf("failed to read 0xe000\n");
		return -1;
	}

	// 0x51010000000000000000000000000000 
	memset(buf, 0, sizeof(buf));
	buf[0] = 0x51;
	buf[1] = 0x01;
	if (tvwsdr_write_reg(0xe000, 0x1000, buf, 16)) {
		printf("failed to write 0xe000\n");
		return -1;
	}

	if (tvwsdr_read_reg(0xe010, 0x1000, buf, 16)) {
		printf("failed to read 0xe010\n");
		return -1;
	}

	memset(buf, 0, sizeof(buf));
	if (tvwsdr_write_reg(0xe010, 0x1000, buf, 4)) {
		printf("failed to write 0xe000\n");
		return -1;
	}

	ret = tvwsdr_run_reg_cmds(tvw_init6);
	if (ret) {
		printf("failed to init(6) device: %i\n", ret);
		return -1;
	}

	return 0;
}

int
main() {
	libusb_init(NULL);

	devh = libusb_open_device_with_vid_pid(NULL, 0x0438, 0xac14);
	if (!devh) {
		err(EXIT_FAILURE, "failed to open usb device");
	}

	if (libusb_claim_interface(devh, 0)) {
		err(EXIT_FAILURE, "failed to claim interface 0");
	}

	//dump_regs(0x2000, 0x0800, 0x00ff);

	init_tvw();

	libusb_release_interface(devh, 0);
	libusb_close(devh);
	libusb_exit(NULL);

	return 0;
}
